\UseRawInputEncoding
\chapter{Diseño Dirigido por el Dominio}

El diseño del software que he decidido aplicar es DDD\textit{(Domain Driven Design)} para enfocar el
desarrollo del producto en el dominio del problema, de forma que, el sistema contemple el lenguaje y lógica del negocio.
Este tipo de diseño se centra en los \textit{(stakeholders)} al igual que la metodología ágil, porque requieren una constante comunicación con ellos.
El potencial de este diseño reside en que se alinea estrechamente el producto con los conceptos y términos clave del dominio.
Sin embargo, tiene algunos inconvenientes para un trabajo fin de grado, como la ausencia de un experto en el dominio.
Además en las situaciones donde mejor se aplica, es en proyectos de larga duración, donde el dominio del problema es muy complejo a nivel de negocio.

\section{Lenguaje Ubicuo}
El lenguaje ubicuo es un conjunto de terminos y conceptos que se utilizan para describir el dominio del problema.
Estos términos deben de surgir de las conversaciones entre los desarrolladores y los expertos de dominio.
Este glosario de términos es fundamental ayudará a establecer un lenguaje común entre los expertos de dominio y el producto,
facilitando al usuario a comprender el sistema y a los desarrolladores a entender el problema.

Estas son algunas definiciones que ayudarán a establecer un lenguaje común entre los expertos de dominio y los
desarrolladores al discutir y codificar las reglas de negocio. A medida que avanza el desarrollo, es posible que
aparezcan nuevos términos y conceptos que se sumarán al lenguaje ubicuo.

\begin{itemize}
\item \textbf{Cita:} Una cita se refiere a una programación de tiempo para que un paciente se encuentre con un médico o profesional de atención primaria en un centro de salud.
\item \textbf{Paciente:} Una persona que busca atención médica en el sistema de atención primaria.
\item \textbf{Médico:} Un proveedor de atención médica que ofrece servicios de atención primaria, como médicos generales o especialistas en medicina familiar.
\item \textbf{Riesgo:} Un valor asociado al cálculo de diferentes factores que implica un mayor peligro cuando alguien enferma
\item \textbf{Centro de salud:} Un sitio físico donde se brinda atención primaria a los pacientes, como un consultorio médico, una clínica o un centro de atención ambulatoria.
\item \textbf{Historia clínica:} Un registro médico que contiene información detallada sobre la salud de un paciente, incluyendo diagnósticos, tratamientos anteriores, alergias y otros datos relevantes.
\item \textbf{Síntomas:} Los signos o manifestaciones físicas que indican una posible enfermedad o condición médica.
\item \textbf{Diagnóstico:} La identificación de una enfermedad o condición médica basada en los síntomas del paciente, exámenes médicos y evaluaciones clínicas.
\item \textbf{Tratamiento:} Las acciones médicas o terapias recomendadas para abordar una enfermedad o condición médica específica.
\item \textbf{Receta:} Una prescripción médica para medicamentos o terapias específicas para ser administradas al paciente.
\item \textbf{Expediente médico:} Un conjunto de registros y documentos relacionados con la atención médica de un paciente, incluyendo historias clínicas, resultados de exámenes, informes de consultas y otros datos importantes.
\end{itemize}

\section{Modelo de Dominio}
Dentro del Diseño Dirigido por el Dominio debemos abstraer distintos módulos para disgregar el problema en pequeñas partes
y componerlo desde los trozos más pequeños posibles de código hasta formar el diseño que resuelva este problema.
Por esto es necesario dividir en diferentes secciones cada uno de estos módulos y explicarlos por separado.

Podemos disgregar el dominio del problema de dos maneras diferentes, en subdominio o contexto acotado.
Un subdominio representa una parte del dominio del problema que se puede separar del resto y que tiene sentido por sí mismo.
En este caso, no es necesario dividir en subdominios, sino directamente hacerlo en contextos acotados.

Por otro lado, un contexto acotado desde el ámbito del desarrollo puede verse como un módulo cohesivo dentro de un sistema más grande.
Representa un límite claro de un área específica de funcionalidad, junto con reglas de negocio propias, termonología y procesos asociados.
Los contextos acotados que podemos se han encontrado son los siguientes, aunque pueden aparecer más a medida que avance el desarrollo:
\begin{itemize}
    \item Autenticación
    \item Gestión de Citas con prioridad
    \item Gestión de Pacientes
    \item Seguridad y Privacidad
\end{itemize}

Para cada uno de estos contextos acotados se creará un modulo de dominio que modele las reglas de negocio y la terminología asociada.
Estos modulos de dominio se utilizarán para guiar el diseño, el modelado y la implementación del sistema, se verá reflejado en el código.
Los modulos de dominio se componen de entidades, objetos de valor y agregados, que representan los conceptos clave y las relaciones entre ellos.
Dichos modulos pueden comunicarse entre sí mismos a través de eventos de dominio, que representan cambios significativos en el estado del sistema.

\section*{Objetos de Valor}
Son un tipo de objeto que representa un valor, pero no tiene identidad propia a diferencia de las Entidades.
Para identificar objetos de valor, se debe tener en cuenta que suelen representar características mesurables y cuantificables del dominio del problema.
En ocasiones pueden ser un simple atributo primitivo que require de validaciones específicas o un conjunto de ellos que adquieren un significado al leerse juntos.
Por ejemplo, las coordenadas geográficas (latitud y longitud) o el código postal son objetos de valor.
En nuestro caso he podido identificar algunos como: DNI, N.º de seguridad social, Riesgo ...

\section*{Entidades}
Las entidades en DDD se definen por su identidad, lo que significa que son distintas y reconocibles a lo largo del tiempo,
independientemente de los cambios en sus atributos. Por ejemplo, si estás construyendo un sistema de gestión de bibliotecas,
una entidad podría ser un libro. Aunque cambien su estado, título o ubicación, sigue siendo el mismo libro con la misma identidad.

En DDD, las entidades se modelan como objetos que encapsulan su estado y comportamiento relacionados. Por lo tanto,
las entidades no solo tienen atributos, sino que también tienen métodos o funciones que definen cómo interactúan y
responden en el dominio. Estos métodos pueden reflejar las operaciones que se realizan en las entidades, como calcular
el costo total de una orden o reservar un libro en una biblioteca.

El diseño de las entidades en DDD se enfoca en capturar el conocimiento del dominio y representar las reglas y
restricciones del problema de manera adecuada. Se busca construir un modelo rico y expresivo que refleje de cerca
la realidad del dominio y permita una implementación más eficiente y mantenible.
Las Entidades identificadas en nusetro dominio son los siguientes: Paciente, Cita ...



